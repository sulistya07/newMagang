type Ekstrakurikuler {
    id_ekskul: ID!
    nama_ekskul: String!
    pembina: String!
    jadwal: String!
    kuota: Int!
    created_at: DateTime
    updated_at: DateTime
    deleted_at: DateTime
}

"input untuk create"
input CreateEkstrakurikulerInput {
    nama_ekskul: String!
    pembina: String!
    jadwal: String!
    kuota: Int!
}

"Input untuk update"
input UpdateEkstrakurikulerInput {
    id_ekskul: ID!
    nama_ekskul: String
    pembina: String
    jadwal: String
    kuota: Int
}

"Info pagination"
type PageInfo{
    hasMorePages: Boolean!
    currentPage: Int!
    lastPage: Int!
    perPage: Int!
    total: Int!
}

"Wrapper untuk hasil pagination"
type EkstrakurikulerPaginator {
    data: [Ekstrakurikuler!]!
    paginatorInfo: PageInfo!
}

extend type Query {
    "Query semua data (tanpa pagination)"
    allEkstrakurikuler: [Ekstrakurikuler!]!
    @all(model: "App\\Models\\Ekstrakurikuler\\Ekstrakurikuler")

    "Query Ekstrakurikuler dengan pagination + search"
    allEkstrakurikulerPaginate(
        search: String
        first: Int
        page: Int
    ): EkstrakurikulerPaginator
        @field(resolver: "App\\GraphQL\\Ekstrakurikuler\\Queries\\EkstrakurikulerQuery@all")

    "Ambil detail Ekstrakurikuler by ID"
    ekstrakurikuler(id_ekskul: ID! @eq(key: "id_ekskul")): Ekstrakurikuler
        @find(model: "App\\Models\\Ekstrakurikuler\\Ekstrakurikuler")

        "Query by Nama (LIKE)"
        ekstrakurikulerByNama(nama_ekskul: String! @where(operator: "like", key: "nama_ekskul")): [Ekstrakurikuler!]!
        @all(model: "App\\Models\\Ekstrakurikuler\\Ekstrakurikuler") 
}

extend type Mutation {
    "Tambah Ekstrakurikuler"
    createEkstrakurikuler(input: CreateEkstrakurikulerInput! @spread): Ekstrakurikuler
    @create(model: "App\\Models\\Ekstrakurikuler\\Ekstrakurikuler")

    "Update Ekstrakurikuler"
    updateEkstrakurikuler(input: UpdateEkstrakurikulerInput! @spread): Ekstrakurikuler
    @update(model: "App\\Models\\Ekstrakurikuler\\Ekstrakurikuler")

    "Soft delete Ekstrakurikuler"
    deleteEkstrakurikuler(id_ekskul: ID! @eq(key: "id_ekskul")): Ekstrakurikuler
    @delete(model: "App\\Models\\Ekstrakurikuler\\Ekstrakurikuler")

    "Restore data Ekstrakurikuler yang dihapus (soft delete)"
    restoreEkstrakurikuler(id_ekskul: ID!): Ekstrakurikuler
    @field(resolver: "App\\GraphQL\\Ekstrakurikuler\\Mutations\\EkstrakurikulerMutation@restore")

    "Hapus permanen Ekstrakurikuler (force Delete)"
    forceDeleteEkstrakurikuler(id_ekskul: ID!): Ekstrakurikuler
    @field(resolver: "App\\GraphQL\\Ekstrakurikuler\\Mutations\\EkstrakurikulerMutation@forceDelete")
}

